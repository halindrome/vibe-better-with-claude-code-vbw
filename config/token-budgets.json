{
  "_comment_context_windows": "All Claude 4.x models have ~200K token context windows (~800K chars at 4:1 ratio)",
  "_comment_scaling_rationale": "Budgets are set at 1-4% of model context windows to leave headroom for instructions, codebase context, and prior conversation. Character budgets used instead of tokens for cross-model consistency and simpler enforcement.",
  "_comment_percentage_breakdown": {
    "scout": "1% of 800K = 8K chars (Haiku - minimal research queries)",
    "lead": "2.5% of 800K = 20K chars (Opus/Sonnet - plan production)",
    "dev": "4% of 800K = 32K chars (Opus/Sonnet - per-task implementation, scales with complexity)",
    "qa": "3% of 800K = 24K chars (Sonnet/Haiku - verification goals)",
    "debugger": "4% of 800K = 32K chars (Opus/Sonnet - investigation context)",
    "architect": "2.5% of 800K = 20K chars (Opus/Sonnet - requirements analysis)",
    "docs": "2% of 800K = 16K chars (Sonnet - documentation tasks)"
  },
  "budgets": {
    "scout": { "max_chars": 8000, "description": "Low fixed budget per query batch" },
    "lead": { "max_chars": 20000, "description": "Medium budget, only on plan/replan events" },
    "dev": { "max_chars": 32000, "description": "Per-task budget tied to contract complexity" },
    "qa": { "max_chars": 24000, "description": "Tiered budget by risk class" },
    "debugger": { "max_chars": 32000, "description": "Same as dev for investigation" },
    "architect": { "max_chars": 20000, "description": "Same as lead for planning" },
    "docs": { "max_chars": 16000, "description": "Medium budget for documentation artifacts" }
  },
  "task_complexity": {
    "must_haves_weight": 1,
    "files_weight": 2,
    "dependency_weight": 3,
    "tiers": [
      { "min_score": 0, "max_score": 5, "multiplier": 0.6, "label": "simple" },
      { "min_score": 6, "max_score": 12, "multiplier": 1.0, "label": "standard" },
      { "min_score": 13, "max_score": 20, "multiplier": 1.3, "label": "complex" },
      { "min_score": 21, "max_score": 999, "multiplier": 1.6, "label": "heavy" }
    ],
    "per_task_budget_enabled": true
  },
  "truncation_strategy": "head",
  "overage_action": "truncate_and_log"
}
